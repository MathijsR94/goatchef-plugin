!function(t){t(document).ready(function(){function a(){const a=t(this).val();localStorage.setItem("kcal",a),GoatchefSingleton.dispatchEvent("updateTotalKcal",a)}function e(){const a=parseInt(t("#age").val())||0,e=parseInt(t("#length").val())||0,o=parseFloat(t("#weight").val())||0;let c,n=0;switch(t("#gender .selected").data("gender")){case"male":n=l(c=88.362+13.397*o+4.799*e-5.677*a);break;case"female":n=l(c=447.593+9.247*o+3.098*e-4.33*a)}a&&e&&o&&(t("#total-calories").val(n),localStorage.setItem("kcal",n),GoatchefSingleton.dispatchEvent("updateTotalKcal",n))}function l(a){const e=parseInt(t("#goal").val()),l=parseFloat(t("#workSelect").val()),o=parseFloat(t("#sportSelect").val());return-1!==l&&-1===o&&-1!==e?Math.round(a*l+e):-1===l&&-1!==o&&-1!==e?Math.round(a*o+e):-1!==l&&-1!==o&&-1!==e?Math.round(a*((l+o)/2)+e):Math.round(a)}const o=t("#homepage-calculator"),c=GoatchefSingleton.getKcal(),n=GoatchefSingleton.getNumMeals();c>0&&t("#num_cal").val(c),n>0&&n<6&&t("#num_meals").val(n),t(o).parent().parent().css({position:"static"}).parent().css({position:"static"}).parent().css({position:"static"}).parent().css({position:"static"}),t("#homepage-calculator .btn-primary").click(function(){var a,l;t(this).addClass("selected"),l=t(this).parent().attr("id"),a=t("#"+l).children();for(var o=0;o<a.length;o++)this.textContent!=a[o].textContent&&t("#"+a[o].id).removeClass("selected");e()}),t("#homepage-calculator input").on("input",e),t("#num_cal").on("change",a),t("#num_cal").on("input",a),t("#homepage-calculator select").on("change",e),t("#add-kcal").click(function(){t("#num_cal").val(t("#total-calories").val()),localStorage.setItem("kcal",t("#total-calories").val()),localStorage.setItem("goal",t("#goal").val()),localStorage.setItem("weight",parseFloat(t("#weight").val())),t("#homepage-calculator").modal("toggle")})})}(jQuery);
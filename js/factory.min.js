function init(){localStorage.setItem("recipes",JSON.stringify({breakfast:"",lunch:"",diner:"",snack1:"",snack2:"",snack3:""})),GoatchefSingleton.getInstance()}var GoatchefSingleton=function(){function e(e,t){const a=p[e];if(a){const e=new CustomEvent(a,{detail:t});document.dispatchEvent(e)}}function t(e){return Object.keys(e).reduce((t,a)=>{const n=e[a];for(let e in n)n.hasOwnProperty(e)&&(t[e]+=n[e]);return t},{protein:0,fat:0,carbs:0})}function a(){return l*u[g[i]].factor.protein}function n(){return l*u[g[i]].factor.fat}function c(){t(f);var e=a(),c=n();return(totalKcal-(4*e+9*c))/4}function r(){return o||(o=new Object),o}let o;const s=JSON.parse(gcMacros.recipes),l=JSON.parse(localStorage.getItem("weight"))||0,i=JSON.parse(localStorage.getItem("goal"))||"0",{macros:u}=gcMacros,p={updateMacros:"updateMacros",updateNumMeals:"updateNumMeals",updateKcal:"updateKcal",updateTotalKcal:"updateTotalKcal"},f={breakfast:{protein:0,fat:0,carbs:0},lunch:{protein:0,fat:0,carbs:0},diner:{protein:0,fat:0,carbs:0},snack1:{protein:0,fat:0,carbs:0},snack2:{protein:0,fat:0,carbs:0},snack3:{protein:0,fat:0,carbs:0}},g=(parseInt(localStorage.getItem("kcal")),{"-400":"weightLoss","-300":"cutting",0:"healthyBalance","+300":"bulking","+500":"dirtyBulking"});return{user:{weight:l,goal:i,kcal:f,calculateFatNeeded:n,calculateProteinNeeded:a,calculateCarbsNeeded:c,calculateTotalKcalNeeded:function(){return a()+n()+c()}},macros:u,dispatchEvent:e,completedRecipes:completedRecipes,macroMap:g,events:events,getInstance:r,setGoal:setGoal,setKcal:function(a,n){f[n]={protein:parseInt(a.protein),fat:parseInt(a.fat),carbs:parseInt(a.carbs)};const c=t(f);e(events.updateKcal,c)},getKcal:function(){return JSON.parse(localStorage.getItem("kcal"))||2500},calculateTotalKcal:t,getNumMeals:function(){return JSON.parse(localStorage.getItem("numMeals"))||3},recipes:s,getCurrentSelectedRecipes:function(){return JSON.parse(localStorage.getItem("recipes"))||[]},tabTranslation:{breakfast:{nl:"ontbijt"},lunch:{nl:"lunch"},diner:{nl:"avondeten"},snack1:{nl:"snack"},snack2:{nl:"2e Snack"},snack3:{nl:"3e Snack"}}}}();init();
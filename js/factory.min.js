function init(){GoatchefSingleton.getInstance()}var GoatchefSingleton=function(){function e(e,t){var a=f[e];if(a){e=new CustomEvent(a,{detail:t});document.dispatchEvent(e)}}function t(e){return Object.keys(e).reduce(function(t,a){var n=e[a];for(var r in n)n.hasOwnProperty(r)&&(t[r]+=n[r]);return t},{protein:0,fat:0,carbs:0})}function a(){return console.log(s*l[v[u]].factor.protein),s*l[v[u]].factor.protein}function n(){return s*l[v[u]].factor.fat}function r(){t(p);var e=a(),r=n();return console.log({totalKcal:d,proteinNeeded:e,fatNeeded:r}),(d-(4*e+9*r))/4}var c;localStorage.setItem("recipes",JSON.stringify({breakfast:"",lunch:"",diner:"",snack1:"",snack2:"",snack3:""}));var o={breakfast:"",lunch:"",diner:"",snack1:"",snack2:"",snack3:""},i=JSON.parse(gcMacros.recipes),s=localStorage.getItem("weight")||"0",u=localStorage.getItem("goal")||"0",l=gcMacros.macros,f={updateMacros:"updateMacros",updateNumMeals:"updateNumMeals",updateKcal:"updateKcal",updateTotalKcal:"updateTotalKcal"},p={breakfast:{protein:0,fat:0,carbs:0},lunch:{protein:0,fat:0,carbs:0},diner:{protein:0,fat:0,carbs:0},snack1:{protein:0,fat:0,carbs:0},snack2:{protein:0,fat:0,carbs:0},snack3:{protein:0,fat:0,carbs:0}},d=parseInt(localStorage.getItem("kcal"))||0,g=[],v={"-400":"weightLoss","-300":"cutting",0:"healthyBalance","+300":"bulking","+500":"dirtyBulking"};return{user:{weight:s,goal:u,kcal:p,calculateFatNeeded:n,calculateProteinNeeded:a,calculateCarbsNeeded:r,calculateTotalKcalNeeded:function(){return a()+n()+r()}},selectedRecipes:o,macros:l,dispatchEvent:e,completedRecipes:g,macroMap:v,events:f,getInstance:function(){return c||(c=new Object,function(){for(var e in o)if(o[e]){var t=o[e],a=i.find(function(e){return e.id===t});if(a){var n=a.nutrition.find(function(e){return"eiwit"===e.name}),r=a.nutrition.find(function(e){return"vet"===e.name}),c=a.nutrition.find(function(e){return"koolhydraten"===e.name});n&&r&&c&&(p[e]={protein:parseInt(n.value),fat:parseInt(r.value),carbs:parseInt(c.value)})}}}()),c},setRecipes:function(e){e&&(o=o)},setGoal:function(e){e=parseInt(e)},setKcal:function(a,n){if(p[n]){p[n]={protein:parseInt(a.protein),fat:parseInt(a.fat),carbs:parseInt(a.carbs)};var r=t(p);e(f.updateKcal,r)}},completeRecipe:function(e){-1===g.indexOf(e)&&g.push(e)},calculateTotalKcal:t}}();init();
function init(){GoatchefSingleton.getInstance()}var GoatchefSingleton=function(){function t(t,a){var n=s[t];if(n){t=new CustomEvent(n,{detail:a});document.dispatchEvent(t)}}function a(t){return Object.keys(t).reduce(function(a,n){var e=t[n];for(var r in e)e.hasOwnProperty(r)&&(a[r]+=e[r]);return a},{protein:0,fat:0,carbs:0})}var n;localStorage.setItem("recipes",JSON.stringify({breakfast:"",lunch:"",diner:"",snack1:"",snack2:"",snack3:""}));var e={breakfast:"",lunch:"",diner:"",snack1:"",snack2:"",snack3:""},r=JSON.parse(gcMacros.recipes),c=localStorage.getItem("goal")||"0",i=gcMacros.macros,s={updateMacros:"updateMacros",updateNumMeals:"updateNumMeals",updateKcal:"updateKcal",updateTotalKcal:"updateTotalKcal"},o={breakfast:{protein:0,fat:0,carbs:0},lunch:{protein:0,fat:0,carbs:0},diner:{protein:0,fat:0,carbs:0},snack1:{protein:0,fat:0,carbs:0},snack2:{protein:0,fat:0,carbs:0},snack3:{protein:0,fat:0,carbs:0}},u=[];return{selectedRecipes:e,goal:c,kcal:o,macros:i,dispatchEvent:t,completedRecipes:u,macroMap:{"-400":"cutting","-300":"weightLoss",0:"healthyBalance",300:"bulking",500:"dirtyBulking"},events:s,getInstance:function(){return n||(n=new Object,function(){for(var t in e)if(e[t]){var a=e[t],n=r.find(function(t){return t.id===a});if(n){var c=n.nutrition.find(function(t){return"eiwit"===t.name}),i=n.nutrition.find(function(t){return"vet"===t.name}),s=n.nutrition.find(function(t){return"koolhydraten"===t.name});c&&i&&s&&(o[t]={protein:parseInt(c.value),fat:parseInt(i.value),carbs:parseInt(s.value)})}}}()),n},setRecipes:function(t){t&&(e=e)},setGoal:function(t){t=parseInt(t)},setKcal:function(n,e){if(o[e]){o[e]={protein:parseInt(n.protein),fat:parseInt(n.fat),carbs:parseInt(n.carbs)};var r=a(o);t(s.updateKcal,r)}},completeRecipe:function(t){-1===u.indexOf(t)&&u.push(t)},calculateTotalKcal:a}}();init();
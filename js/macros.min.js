!function(a){a(document).ready(function(){function t(){var t=o.carbs,l=r*e[n].gram.carbs,c=o.protein,m=r*e[n].gram.protein,s=o.fat,f=r*e[n].gram.fat,d=t/e[n].gram.carbs+c/e[n].gram.protein+s/e[n].gram.fat;a("progress.macro-1").attr("max",l).attr("value",t).parent().find(".macro__total").html(Math.floor(l)+" g").parent().find(".macro__current").html(Math.floor(t)).css({left:t/(l/100)+"%"}),a("progress.macro-2").attr("max",m).attr("value",c).parent().find(".macro__total").html(Math.floor(m)+" g").parent().find(".macro__current").html(Math.floor(c)).css({left:c/(m/100)+"%"}),a("progress.macro-3").attr("max",f).attr("value",s).parent().find(".macro__total").html(Math.floor(f)+" g").parent().find(".macro__current").html(Math.floor(s)).css({left:s/(f/100)+"%"}),a("progress.macro-4").attr("max",r).attr("value",d).parent().find(".macro__total").html(r+" kCal").parent().find(".macro__current").html(Math.floor(d)).css({left:d/(r/100)+"%"}),t>l?a("progress.macro-1").addClass("macro__overflow"):c>m?a("progress.macro-2").addClass("macro__overflow"):s>f&&a("progress.macro-3").addClass("macro__overflow")}var r=parseInt(localStorage.getItem("kcal"))||2500,o=GoatchefSingleton.calculateTotalKcal(GoatchefSingleton.kcal),e=GoatchefSingleton.macros,l=parseInt(localStorage.getItem("numMeals"))||parseInt(a("num_meals").val())||3,n=GoatchefSingleton.macroMap[localStorage.getItem("goal")]||GoatchefSingleton.macroMap[0];document.addEventListener("updateNumMeals",function(a){l=parseInt(a.detail),t()}),document.addEventListener("updateKcal",function(a){o=a.detail,t()}),document.addEventListener("updateTotalKcal",function(a){r=a.detail,t()})})}(jQuery);
!function(e){function a({el:a,amountNeeded:o,value:r,unit:t}){console.log({amountNeeded:o,value:r,unit:t}),e(a).attr("max",o).attr("value",r).parent().find(".macro__total").html(Math.floor(o)+" "+t).parent().find(".macro__current").html(Math.floor(r)).css({left:r/(o/100)>100?"100%":r/(o/100)+"%"})}e(document).ready(function(){function o(){var o=t.carbs,c=l.calculateCarbsNeeded(),n=t.protein,s=l.calculateProteinNeeded(),m=t.fat,d=l.calculateFatNeeded(),u=l.calculateTotalKcalNeeded();a({el:e("progress.macro-1"),amountNeeded:c,value:o,unit:"g"}),a({el:e("progress.macro-2"),amountNeeded:s,value:n,unit:"g"}),a({el:e("progress.macro-3"),amountNeeded:d,value:m,unit:"g"}),a({el:e("progress.macro-4"),amountNeeded:r,value:u,unit:"kCal"}),o>c?e("progress.macro-1").addClass("macro__overflow"):e("progress.macro-1").removeClass("macro__overflow"),n>s?e("progress.macro-2").addClass("macro__overflow"):e("progress.macro-2").removeClass("macro__overflow"),m>d?e("progress.macro-3").addClass("macro__overflow"):e("progress.macro-3").removeClass("macro__overflow"),u>r?e("progress.macro-4").addClass("macro__overflow"):e("progress.macro-4").removeClass("macro__overflow")}var r=parseInt(localStorage.getItem("kcal"))||2500,t=GoatchefSingleton.calculateTotalKcal(GoatchefSingleton.user.kcal),l=(GoatchefSingleton.macros,GoatchefSingleton.user),c=parseInt(localStorage.getItem("numMeals"))||parseInt(e("num_meals").val())||3;GoatchefSingleton.macroMap[localStorage.getItem("goal")]||GoatchefSingleton.macroMap[0];document.addEventListener("updateNumMeals",function(e){c=parseInt(e.detail),o()}),document.addEventListener("updateKcal",function(e){t=e.detail,o()}),document.addEventListener("updateTotalKcal",function(e){r=e.detail,o()})})}(jQuery);